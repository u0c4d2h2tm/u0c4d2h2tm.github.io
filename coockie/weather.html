<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
     table,tr,td,th{border: 1px solid black;}
   </style>
  </head>
  <body>
    <table>
      <tr id="date">

      </tr>
      <tr id="weather">

      </tr>

    </table>
    <script type="text/javascript">
      var xhr = new XMLHttpRequest();

      xhr.open('GET', "https://api.open-meteo.com/v1/forecast?latitude=35.6785&longitude=139.6823&daily=weathercode&timezone=Asia%2FTokyo");
      xhr.send();

      xhr.onreadystatechange = function() {
        if(xhr.readyState === 4 && xhr.status === 200) {
          let date_array = JSON.parse(xhr.responseText)["daily"]["daily"];
          let weather_array = JSON.parse(xhr.responseText)["daily"]["daily"];

          weather_array = weather_array.map(n => wcodeToStr(n));

          curieitweathrtabre(date_array,weather_array);
        //  document.write(weathercode);
        }
      }

      function curieitweathrtabre(date,weather){

    let t_date =document.getElementById('date');
    let t_weather =document.getElementById('weather');

     array.forEach(function(date,i){
      t_date.innerHTML = t_date.innerHTML + "<th>" + t_date + "</th>";
      t_weather.innerHTML = t_weather.innerHTML + "<th>" + t_weather + "</th>";
     });
   }

   w_code = 3;
   wcodeToStr(w_code);

   function wcodeToStr(){
     let w_comde_list ={0:"快晴",
                        1:"晴",
                        2:"晴",
                        3:"晴",
                        45:"曇り",
                        61："雨",
                      }
                      return w_comde_list[pareInt(sode)]

   }

    </script>

  </body>
  </html>
